<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>우리 가족 대화 카드게임 💚</title>
<base href="https://readmestudio.github.io/family-card-game/">

<style>
body {
  font-family: 'Pretendard', sans-serif;
  background-color: #fafafa;
  color: #222;
  margin: 0;
  text-align: center;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: flex-start;
  min-height: 100vh;
  padding: 20px;
}
h1 { font-size: 26px; color: #2c2c2c; margin-top: 10px; }
#announcement {
  display: none;
  background: #3fa76a;
  color: white;
  padding: 10px 16px;
  border-radius: 8px;
  margin-top: 10px;
  font-weight: 600;
  font-size: 15px;
  white-space: pre-line;
}
input {
  padding: 10px;
  border-radius: 8px;
  border: 1px solid #ccc;
  margin: 5px;
  font-size: 16px;
}
button {
  padding: 10px 20px;
  border: none;
  border-radius: 8px;
  background: #333;
  color: white;
  font-size: 15px;
  margin: 6px;
  cursor: pointer;
  transition: all 0.3s ease;
}
button:hover { background: #111; transform: translateY(-2px); }
#game { display: none; flex-direction: column; align-items: center; margin-top: 10px; }

.card {
  perspective: 1000px;
  width: 320px;
  height: 480px;
  margin: 20px auto;
  position: relative;
  background: white;
  border-radius: 20px;
  box-shadow: 0 8px 24px rgba(0,0,0,0.1);
}
.card-inner {
  width: 100%; height: 100%;
  position: relative;
  transition: transform 0.8s ease;
  transform-style: preserve-3d;
}
.flipped .card-inner { transform: rotateY(180deg); }
.card-front, .card-back {
  position: absolute;
  width: 100%; height: 100%;
  backface-visibility: hidden;
  border-radius: 20px;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  background: white;
}
.card-front {
  background: white url('assets/heart.png') center 80px/80px no-repeat;
}
.card-back {
  transform: rotateY(180deg);
  background: white url('assets/heart.png') center top 30px/70px no-repeat;
  padding: 24px;
  box-sizing: border-box;
}
.question-main {
  font-size: 18px;
  line-height: 1.5;
  white-space: pre-line;
  margin-top: 150px;
}
.sub-question {
  color: #777;
  font-size: 14px;
  margin-top: 8px;
  white-space: pre-line;
}
.buttons {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 6px;
}
#status { font-weight: 600; margin-bottom: 8px; }

@media (max-width: 480px) {
  body { padding: 10px; }
  .card { width: 90%; height: 400px; }
  .question-main { font-size: 16px; margin-top: 120px; }
  .sub-question { font-size: 13px; }
  h1 { font-size: 22px; }
}
</style>
</head>
<body>
<h1>우리 가족 대화 카드게임 💚</h1>

<div id="setup">
  <p>참가 인원을 입력해주세요</p>
  <input type="number" id="playerCount" min="1" max="20" placeholder="예: 4" />
  <button onclick="startGame()">다음 ▶</button>
</div>

<div id="game">
  <div id="announcement"></div>
  <div class="card" id="card">
    <div class="card-inner">
      <div class="card-front"></div>
      <div class="card-back">
        <div class="question-main" id="question"></div>
        <div class="sub-question" id="subQuestion"></div>
      </div>
    </div>
  </div>

  <div class="buttons">
    <button onclick="drawQuestion()">질문 뽑기 🎴</button>
    <button onclick="nextPlayer()">다음 사람 ▶</button>
    <button onclick="endRound()">마무리하기 💫</button>
  </div>
</div>

<script>
const questions = [
["어렸을 적 꿈은 무엇이었나요?","그 꿈을 꾸게 된 이유는 무엇인가요?"],
["요즘 나를 설레게 하는 일은 무엇인가요?","그 일을 할 때 기분은 어떤가요?"],
["나를 가장 잘 표현하는 세 가지 단어는 무엇인가요?","그 이유는 무엇인가요?"],
["하루 중 내가 가장 좋아하는 시간대는 언제인가요?","그 시간에 주로 무엇을 하나요?"],
["최근에 새롭게 배운 것이 있다면 무엇인가요?","그 배움이 나에게 어떤 영향을 주었나요?"],
["요즘 감사 일기 첫 줄에 적고 싶은 것은?","그 이유는 무엇인가요?"],
["나를 웃게 만드는 사소한 일은 무엇인가요?","그 일이 나에게 어떤 기분을 주나요?"],
["내가 받은 선물 중 가장 마음에 남는 것은?","그 선물을 준 사람은 누구였나요?"],
["나에게 힘을 주는 문장이나 노래는 무엇인가요?","그 문장(노래)을 들으면 어떤 기분인가요?"],
["하루를 특별하게 만드는 나만의 작은 의식은?","그 의식을 하게 된 이유는 무엇인가요?"],
["이번 여행에서 가장 기억에 남는 순간은 무엇인가요?","그 순간을 특별하게 만든 이유는 무엇인가요?"],
["여행 중 웃음이 터졌던 에피소드는?","그때 누가 가장 많이 웃었나요?"],
["이번 여행에서 새롭게 알게 된 가족의 모습은?","그게 인상 깊었던 이유는?"],
["여행 중 ‘참 잘 왔다’고 느낀 순간은 언제였나요?","그때 어떤 기분이 들었나요?"],
["이번 여행을 한 단어로 표현한다면?","그 이유는 무엇인가요?"],
["여행 중 내가 가장 편안함을 느낀 시간은 언제였나요?","그 이유는 무엇인가요?"],
["가장 맛있었던 음식이나 장소는 무엇인가요?","그걸 함께한 사람은 누구였나요?"],
["다음 여행 때 꼭 하고 싶은 일은 무엇인가요?","그 이유는 무엇인가요?"],
["이번 여행에서 나를 행복하게 만든 장면은?","그 장면을 다시 떠올리면 어떤가요?"],
["여행 중 다시 돌아가고 싶은 순간이 있다면?","그때 어떤 감정이었나요?"],
["우리 부부가 서로를 처음 봤을 때 기억에 남는 장면은?","그때 어떤 느낌이었나요?"],
["우리 부부가 사랑이란 단어를 표현한다면 어떤 모습일까요?","그 이유는 무엇인가요?"],
["결혼을 하고 가장 많이 바뀐 부분은 무엇인가요?","그 변화가 좋았나요?"],
["우리 부부가 서로의 좋은 점 중 새롭게 발견한 게 있나요?","그 점이 특별하게 느껴진 이유는 무엇인가요?"],
["우리 부부가 요즘 서로에게 고마웠던 일은 무엇인가요?","그때 어떤 기분이 들었나요?"],
["서로의 배우자에게 가장 크게 배운 점은 무엇인가요?","그 점이 관계에 어떤 영향을 주었나요?"],
["우리 부부는 어떤 주제의 대화를 가장 많이 하나요?","그 대화를 통해 느끼는 건?"],
["우리 부부가 서로 닮았다고 느끼는 부분은 무엇인가요?","그게 관계에 어떤 의미가 있나요?"],
["우리 부부가 서로에게 들은 말 중 마음이 따뜻해진 한 문장은?","그 말을 듣고 어떤 기분이었나요?"],
["우리 부부가 함께한 시간 중 자랑하고 싶은 순간은?","그 순간을 다시 떠올리면 어떤가요?"],
["어릴 적 우리 집 분위기는 어떤 느낌이었나요?","그 분위기가 지금의 나에게 영향을 주었나요?"],
["부모님에게서 가장 많이 배운 것은 무엇인가요?","그것을 지금도 실천하고 있나요?"],
["어린 시절 즐겨 하던 놀이나 취미는 무엇이었나요?","그걸 지금 다시 해보고 싶나요?"],
["초등학교 시절 나의 별명이나 기억나는 습관이 있나요?","그 별명을 들으면 어떤 기분이 드나요?"],
["가족끼리 함께 하던 ‘우리 집만의 작은 전통’이 있었나요?","그 전통이 특별했던 이유는?"],
["어릴 때 가장 좋아했던 음식이나 간식은 무엇인가요?","지금도 여전히 좋아하나요?"],
["나를 지금의 나로 만든 어린 시절 경험이 있다면 무엇인가요?","그 경험이 어떤 가르침을 줬나요?"],
["어릴 때 자주 듣던 칭찬이나 말 중 기억에 남는 건?","그 말이 지금의 나에게 어떤 영향을 줬나요?"],
["내 성장 과정에서 고마운 사람이 있다면 누구인가요?","그 이유는 무엇인가요?"],
["어린 시절의 나에게 한마디 조언을 한다면?","그 조언을 들은 어린 나는 어떤 반응일까요?"],
["주말에 가족과 가장 즐겁게 보내는 방법은?","그 이유는 무엇인가요?"],
["집에서 가장 자주 먹는 음식 메뉴는?","그걸 누가 제일 좋아하나요?"],
["한 달의 휴가가 주어진다면 무엇을 하고 싶나요?","그 이유는 무엇인가요?"],
["가족과의 하루 중 가장 소중한 루틴은?","그걸 언제부터 하게 되었나요?"],
["최근에 어떤 것을 구입하셨나요? 후기 알려주세요.","그 물건이 마음에 드나요?"],
["요즘 가족과 즐기고 싶은 소소한 취미는?","함께 하면 더 즐거울까요?"],
["가족과의 대화 중 자주 웃음이 나는 주제는?","그 주제가 특별한 이유는?"],
["함께 보면 웃음 터지는 영화나 예능은?","가족이 함께 본 적 있나요?"],
["우리 가족의 하루를 한 단어로 표현한다면?","그 이유는 무엇인가요?"],
["가족과 함께 산책하고 싶은 코스는?","그곳에서 어떤 대화를 나누고 싶나요?"],
["내가 최근에 새롭게 배운 교훈은?","그걸 통해 달라진 점은?"],
["가족에게 배운 가장 소중한 가치는?","그걸 실천한 순간이 있었나요?"],
["내 삶의 방향을 바꾼 한 가지 경험은?","그게 어떤 전환점이 되었나요?"],
["요즘 내가 조금씩 발전하고 있다고 느끼는 점은?","그걸 실감한 순간은?"],
["가족이 내게 가르쳐준 가장 따뜻한 말은?","그 말을 떠올리면 어떤가요?"],
["주변 사람들에게 어떤 사람으로 기억되고 싶나요?","그 이유는 무엇인가요?"],
["배움의 즐거움을 느낀 최근 순간은?","그때의 감정은 어땠나요?"],
["가족과 함께 배우고 싶은 취미나 활동은?","왜 그걸 함께 하고 싶나요?"],
["내가 닮고 싶은 가족의 모습은?","그 이유는 무엇인가요?"],
["올해 내가 성취한 것은?","그걸 누구와 나누고 싶나요?"],
["앞으로 1년 안에 이루고 싶은 작은 목표는?","그 목표를 이루면 어떤 기분일까요?"],
["우리 가족의 10년 뒤 모습을 상상해본다면?","그 그림에서 어떤 표정을 하고 있나요?"],
["가족으로서 앞으로 함께 하고 싶은 일은?","그 이유는 무엇인가요?"],
["10년 뒤에도 변하지 않았으면 하는 가족의 모습은?","그 이유는 무엇인가요?"],
["가족이 되고 난 이후 가장 좋았던 순간은?","그 순간이 특별한 이유는?"],
["함께 나이 들어가며 지키고 싶은 습관은?","그걸 지키기 위해 필요한 건?"],
["앞으로의 여행 버킷리스트 첫 번째는?","그 이유는 무엇인가요?"],
["미래의 자신에게 보내고 싶은 한 문장은?","그 문장을 선택한 이유는?"],
["우리 가족이 10년 뒤에도 지켰으면 하는 좋은 습관은?","그 습관이 중요한 이유는?"],
["앞으로의 인생에서 꾸준히 지키고 싶은 가치 한 가지는?","그 가치를 실천한 적 있나요?"],
["요즘 가장 자주 떠올리는 말이나 문장은?","그 문장이 위로가 되나요?"],
["요즘 가장 가고 싶은 여행지는 어디인가요?","그곳에서 누구와 함께 있고 싶나요?"],
["최근에 ‘이건 나에게 중요하구나’ 느낀 순간은?","그 계기가 된 일은 무엇인가요?"],
["요즘 나를 가장 많이 성장시키고 있는 일은?","그 일의 의미는 무엇인가요?"],
["최근에 스스로에게 ‘괜찮아’라고 말하고 싶었던 일은?","그 이후로 어떻게 달라졌나요?"],
["요즘 유튜브로 어떤 채널을 자주 보나요?","그 이유는 무엇인가요?"],
["요즘 내 삶에서 조금 바꾸고 싶은 게 있다면?","그걸 바꾸면 어떤 변화가 있을까요?"],
["요즘 하루 중 가장 좋아하는 순간은?","그 이유는 무엇인가요?"],
["최근에 내 성격을 나타낼만한 사건이 있었다면?","그 사건이 나에게 준 배움은?"],
["요즘 내 마음(감정)을 한 단어로 표현한다면?","그 이유는 무엇인가요?"],
["서로가 해준 말 중 잊히지 않는 한마디는?","그 말을 들은 순간 어떤 기분이었나요?"],
["가족 중에서 ‘이건 정말 배워야겠다’ 느낀 점은?","그 이유는 무엇인가요?"],
["배우자가 어떤 순간에 가장 행복해보이나요?","그 이유는 무엇인가요?"],
["가족이 내 삶에 가장 크게 영향을 미친 부분은?","그 영향이 긍정적인 이유는?"],
["가족과 함께한 추억 중 가장 행복한 순간은?","그 이유는 무엇인가요?"],
["3년 안에 가족과 해보고 싶은 일은?","그 일을 하면 어떤 기분일까요?"],
["나의 사랑 표현 방식은 어떤가요?","그 방식이 상대에게 어떻게 전해진다고 생각하나요?"],
["가족이 나를 사랑한다고 느끼게 하는 행동은?","그 행동이 인상 깊었던 이유는?"],
["가족의 강점을 하나씩 말해본다면?","그 강점을 통해 느낀 점은?"],
["배우자를 떠올릴 때 가장 먼저 생각나는 단어는?","그 이유는 무엇인가요?"],
["인생에서 가장 빛났던 순간은 언제였나요?","그때의 감정은 어땠나요?"],
["삶의 마지막 순간에 떠올리고 싶은 추억은?","그 이유는 무엇인가요?"],
["평생 잊지 못할 소소한 행복의 기억은?","그때의 장면을 묘사해본다면?"],
["내 자식에게 남기고 싶은 유산은?","그것이 중요한 이유는?"],
["마음속에 간직한 행복한 장면 한 가지는?","그 장면이 떠오를 때 기분은?"],
["가족과 함께한 평범하지만 특별한 하루는?","그날을 떠올리면 어떤 기분이 드나요?"],
["앞으로 살아가고 싶은 삶의 키워드는?","그 단어를 선택한 이유는?"],
["우리 가족을 하나의 단어로 표현한다면?","그 단어를 고른 이유는?"],
["나에게 가족이란 어떤 존재인가요?","그 존재가 지금의 나에게 준 영향은?"],
["오늘 이 순간, 가족에게 한마디 한다면?","그 말을 꼭 전하고 싶은 이유는?"]
];

const finalQuestion = questions[99];

let playerCount = 0;
let currentPlayer = 0;
let usedQuestions = [];

function startGame() {
  playerCount = parseInt(document.getElementById("playerCount").value);
  if (!playerCount || playerCount < 1)
    return alert("인원을 입력해주세요!");
  document.getElementById("setup").style.display = "none";
  document.getElementById("game").style.display = "flex";
  showAnnouncement();
}

function showAnnouncement() {
  const a = document.getElementById("announcement");
  a.textContent = `💚 ${currentPlayer + 1}번 참가자 차례입니다!`;
  a.style.display = "block";
}

function drawQuestion() {
  const card = document.getElementById("card");
  card.classList.add("flipped");
  setTimeout(() => {
    let available = questions.slice(0,99).filter(q => !usedQuestions.includes(q));
    if (available.length === 0) usedQuestions = [], available = questions.slice(0,99);
    const selected = available[Math.floor(Math.random() * available.length)];
    usedQuestions.push(selected);
    document.getElementById("question").textContent = selected[0];
    document.getElementById("subQuestion").textContent = selected[1];
  }, 400);
}

function nextPlayer() {
  currentPlayer = (currentPlayer + 1) % playerCount;
  document.getElementById("card").classList.remove("flipped");
  showAnnouncement();
}

function endRound() {
  const card = document.getElementById("card");
  card.classList.add("flipped");
  const a = document.getElementById("announcement");
  a.textContent = "💫 이 질문은 모든 참가자가 돌아가며 대답해 주세요 💫";
  document.getElementById("question").textContent = finalQuestion[0];
  document.getElementById("subQuestion").textContent = finalQuestion[1];
}
</script>
</body>
</html>
